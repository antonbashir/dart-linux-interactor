---
title: Pools
---

# API

### InteractorPayloads 

```dart title="Declaration"
class InteractorPayloads {
  void register<T extends Struct>(int size)
  int size<T extends Struct>()
  Pointer<T> allocate<T extends Struct>()
  void free<T extends Struct>(Pointer<T> payload)
  void destroy()
}
```

#### register
Create a new native pool for the `Struct`.

#### Allocation specific operations for the `Struct`:
* size
* allocate
* free

#### destroy
Destroy all created pools.

### InteractorDatas 

```dart title="Declaration"
class InteractorDatas {
  Pointer<Void> allocate(int size)
  void free(Pointer<Void> pointer, int size)
}
```

#### allocate
Similar to 'malloc' but uses [smalloc](https://github.com/tarantool/small).

#### free
Similar to 'free' but uses [smalloc](https://github.com/tarantool/small).


### InteractorBuffers 

```dart title="Declaration"
class InteractorBuffers {
  void release(int bufferId)
  Uint8List read(int bufferId) 
  void setLength(int bufferId, int length)
  void write(int bufferId, Uint8List bytes)
  int? get()
  Future<int> allocate() async
  Future<List<int>> allocateArray(int count) async
  int available()
  int used()
  void releaseArray(List<int> buffers);
}
```

#### release
Return buffer to the pool.

#### read
Read buffer data.

#### setLength
Set buffer data size.

#### write
Write data to buffer

#### get
Get the next buffer if available.

#### allocate
Get the next buffer if available or await it.

#### allocateArray
Get the next buffers if available or await it.

#### available
How many buffers are available for now

#### used
How many buffers are used for now

#### releaseArray
Return buffers to the pool